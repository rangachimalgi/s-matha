{"ast":null,"code":"import _toConsumableArray from\"/home/ranganath/projects/multimart-react-ecommerce/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/home/ranganath/projects/multimart-react-ecommerce/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/ranganath/projects/multimart-react-ecommerce/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/ranganath/projects/multimart-react-ecommerce/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ranganath/projects/multimart-react-ecommerce/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/ranganath/projects/multimart-react-ecommerce/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useTable}from\"react-table\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminPanel=function AdminPanel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://s-matha.onrender.com/api/fetchData\");case 3:response=_context.sent;// Add the route to fetch data\nsetData(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching data:\",_context.t0.message);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();// Fetch data when the component mounts\n},[]);var _useState3=useState({name:\"\",phone:\"\",seva:\"\"}),_useState4=_slicedToArray(_useState3,2),newData=_useState4[0],setNewData=_useState4[1];var handleChange=function handleChange(e){setNewData(_objectSpread(_objectSpread({},newData),{},_defineProperty({},e.target.name,e.target.value)));};var handleAddData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,addedData,updatedData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(!(newData.name&&newData.phone&&newData.seva)){_context2.next=9;break;}_context2.next=4;return axios.post(\"https://s-matha.onrender.com/api/addData\",newData);case 4:response=_context2.sent;// Assuming the server responds with the added data\naddedData=response.data;// Check if the added data has the required properties\nif(addedData&&addedData._id&&addedData.name&&addedData.phone&&addedData.seva){updatedData=[].concat(_toConsumableArray(data),[addedData]);setData(updatedData);setNewData({name:\"\",phone:\"\",seva:\"\"});}else{console.error(\"Invalid response format from the server\");}_context2.next=10;break;case 9:alert(\"Please fill in all fields\");case 10:_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);console.error(\"Error adding data:\",_context2.t0.message);case 15:case\"end\":return _context2.stop();}},_callee2,null,[[0,12]]);}));return function handleAddData(){return _ref2.apply(this,arguments);};}();var columns=React.useMemo(function(){return[{Header:\"ID\",accessor:\"_id\"},{Header:\"Name\",accessor:\"name\"},{Header:\"Phone\",accessor:\"phone\"},{Header:\"Seva\",accessor:\"seva\"}];},[]);var _useTable=useTable({columns:columns,data:data}),getTableProps=_useTable.getTableProps,getTableBodyProps=_useTable.getTableBodyProps,headerGroups=_useTable.headerGroups,rows=_useTable.rows,prepareRow=_useTable.prepareRow;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User Data\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:newData.name,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Phone:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",value:newData.phone,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Seva:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"seva\",value:newData.seva,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddData,children:\"Add Data\"})]}),/*#__PURE__*/_jsxs(\"table\",_objectSpread(_objectSpread({},getTableProps()),{},{style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:headerGroups.map(function(headerGroup){return/*#__PURE__*/_jsx(\"tr\",_objectSpread(_objectSpread({},headerGroup.getHeaderGroupProps()),{},{children:headerGroup.headers.map(function(column){return/*#__PURE__*/_jsx(\"th\",_objectSpread(_objectSpread({},column.getHeaderProps()),{},{children:column.render(\"Header\")}));})}));})}),/*#__PURE__*/_jsx(\"tbody\",_objectSpread(_objectSpread({},getTableBodyProps()),{},{children:rows.map(function(row){prepareRow(row);return/*#__PURE__*/_jsx(\"tr\",_objectSpread(_objectSpread({},row.getRowProps()),{},{children:row.cells.map(function(cell){return/*#__PURE__*/_jsx(\"td\",_objectSpread(_objectSpread({},cell.getCellProps()),{},{children:cell.render(\"Cell\")}));})}));})}))]}))]});};export default AdminPanel;","map":{"version":3,"names":["React","useState","useEffect","useTable","axios","jsx","_jsx","jsxs","_jsxs","AdminPanel","_useState","_useState2","_slicedToArray","data","setData","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","t0","console","error","message","stop","apply","arguments","_useState3","name","phone","seva","_useState4","newData","setNewData","handleChange","e","_objectSpread","_defineProperty","target","value","handleAddData","_ref2","_callee2","addedData","updatedData","_callee2$","_context2","post","_id","concat","_toConsumableArray","alert","columns","useMemo","Header","accessor","_useTable","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","children","type","onChange","onClick","style","width","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","getRowProps","cells","cell","getCellProps"],"sources":["/home/ranganath/projects/multimart-react-ecommerce/client/src/components/AdminPanel.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useTable } from \"react-table\";\nimport axios from \"axios\";\n\nconst AdminPanel = () => {\n    const [data, setData] = useState([]);\n\n    const fetchData = async () => {\n        try {\n          const response = await axios.get(\"https://s-matha.onrender.com/api/fetchData\"); // Add the route to fetch data\n          setData(response.data);\n        } catch (error) {\n          console.error(\"Error fetching data:\", error.message);\n        }\n      };\n\n      useEffect(() => {\n        fetchData(); // Fetch data when the component mounts\n      }, []);\n\n  const [newData, setNewData] = useState({ name: \"\", phone: \"\", seva: \"\" });\n\n  const handleChange = (e) => {\n    setNewData({ ...newData, [e.target.name]: e.target.value });\n  };\n\n  const handleAddData = async () => {\n    try {\n      // Validate and add new data\n      if (newData.name && newData.phone && newData.seva) {\n        const response = await axios.post(\"https://s-matha.onrender.com/api/addData\", newData);\n  \n        // Assuming the server responds with the added data\n        const addedData = response.data;\n  \n        // Check if the added data has the required properties\n        if (addedData && addedData._id && addedData.name && addedData.phone && addedData.seva) {\n          const updatedData = [...data, addedData];\n          setData(updatedData);\n          setNewData({ name: \"\", phone: \"\", seva: \"\" });\n        } else {\n          console.error(\"Invalid response format from the server\");\n        }\n      } else {\n        alert(\"Please fill in all fields\");\n      }\n    } catch (error) {\n      console.error(\"Error adding data:\", error.message);\n    }\n  };\n  \n  const columns = React.useMemo(\n    () => [\n      { Header: \"ID\", accessor: \"_id\" },\n      { Header: \"Name\", accessor: \"name\" },\n      { Header: \"Phone\", accessor: \"phone\" },\n      { Header: \"Seva\", accessor: \"seva\" },\n    ],\n    []\n  );\n\n  const { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow } =\n    useTable({ columns, data });\n\n  return (\n    <div>\n      <h1>User Data</h1>\n\n      {/* Form for adding new data */}\n      <div>\n        <label>\n          Name:\n          <input type=\"text\" name=\"name\" value={newData.name} onChange={handleChange} />\n        </label>\n        <label>\n          Phone:\n          <input type=\"text\" name=\"phone\" value={newData.phone} onChange={handleChange} />\n        </label>\n        <label>\n          Seva:\n          <input type=\"text\" name=\"seva\" value={newData.seva} onChange={handleChange} />\n        </label>\n        <button onClick={handleAddData}>Add Data</button>\n      </div>\n\n      <table {...getTableProps()} style={{ width: \"100%\" }}>\n        <thead>\n          {headerGroups.map((headerGroup) => (\n            <tr {...headerGroup.getHeaderGroupProps()}>\n              {headerGroup.headers.map((column) => (\n                <th {...column.getHeaderProps()}>{column.render(\"Header\")}</th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody {...getTableBodyProps()}>\n          {rows.map((row) => {\n            prepareRow(row);\n            return (\n              <tr {...row.getRowProps()}>\n                {row.cells.map((cell) => (\n                  <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>\n                ))}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default AdminPanel;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}